# proxy_for_notion(노션을 위한 프록시 서버)  

### [만들게 된 이유]  
[발단]  
노션을 데이터베이스를 이용해서 블로그를 만들기로 했습니다.  
하지만 cors 에러를 맞딱드리고 middle ware 등등의 우회 방법을 찾아보고 사용해보다가 에러와 1, 2초 정도의 딜레이를 보고
직접 만들어서 사용하자라는 생각에 미쳤고 원래 프로젝트에서 만들었습니다.  
  
[but]  
해당 프로젝트에서 서버와 클라이언트의 파일이 같은 폴더 안에 있는 것이 보기에 불편하던 찰나에 index image parsing 에러가 떴습니다.
아무래도 여러가지를 시험해본다고 각기 다른 브라우절 4개를 설치해서 꼬여버린 것으로 보여졌습니다. 그래서 이렇게 된 김에 아예 새로 만
들면서 파일을 분해하고 프록시를 따로 배포해서 만들까라는 생각을 했습니다.  
  
[결과]  
아직 프록시를 분리를 해서 프로젝트에 적용을 해보지는 않아서 결과적으로 어떤지는 모르겠으나 현재까지 listen을 디버그 하는 데까진 문제가 없는 것으로 보였습니다.  
  
### [만들면서 만났던 문제점]  
  
env 파일의 요소들을 가져오지 못하는 것을 찾았습니다.  
  
[해결 방법]  
우선 dotenv의 package.json을 봤습니다. 아무런 이상이 없어보였습니다.  
그래서 두번째로 env파일 자체를 봤습니다. 보니까 port = #### 이렇게 되어있어서 port: ####로 바꿨습니다.  
다음은 index파일에서 env파일을 require을 하지않고 그냥 쓰고 있었습니다.  
  
아무 생각없이 git을 쓰다가 보니까 env파일이 github에 올라갔습니다.  
  
[해결방법]  
일단 gitignore을 init 상태에서 만들어서 env를 추가했습니다. 물론 실패를 했습니다. 대충 예상은 했지만 찾아보니 이미 커밋된 내용은 ignore가 안먹혔습니다. 그래서 env를 다시 지우고 commit을 한 뒤 최신화를 시키고 다시 env를 넣고 또 다시 최신화를 진행해서 해결을 했습니다.  

